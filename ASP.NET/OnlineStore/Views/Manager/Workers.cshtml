
@{
    Layout = null;
}

<!DOCTYPE html>
<script src="~/Scripts/jquery-1.10.2.js"></script>
<script src="~/Scripts/jquery.validate.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.js"></script>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Workers</title>
</head>
<body>
    
    <div>
        <h1><span style="color:#375a7f">Current Workers:</span></h1>
        <table id="WorkersTable" class="table table-striped table-hover ">
            <colgroup>
                <col style="width:100px">
                <col style="width:60px">
            </colgroup>
            <tr>
                <td>ID</td>
                <td>Name</td>
                <td>Role</td>
            </tr>
        </table>
        <div id="TblStatus"></div>
    </div>
</body>
</html>
<script language="javascript">
    $("#TblStatus").text("Loading..");
    $.get("GetWorkersByJson", {Msg:""}, BindData);
    function BindData(json) {
        $("#WorkersTable").find("tr:gt(0)").remove();//delete all rows besides the first
        var table = $("#WorkersTable");
        for (i = 0; i < json.Workers.length; i++) {
            var row = "<tr>" +
                "<td>" + json.Workers[i].ID + "</td>" +
                "<td>" + json.Workers[i].Name + "</td>" +
                "<td>" + json.Workers[i].Role + "</td>" +
                "</tr>";
            table.append(row);
        }
        $("#TblStatus").text("");
        if (json.msg != "")
             alert(json.msg);

    }
</script>