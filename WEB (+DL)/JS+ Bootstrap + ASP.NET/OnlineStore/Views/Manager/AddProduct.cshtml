@model Project.Models.Product

@{
    Layout = null;
}

<!DOCTYPE html>
<script src="~/Scripts/jquery-1.10.2.js"></script>
<script src="~/Scripts/jquery.validate.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.js"></script>
<html>
<head>
    <link href="~/Content/bootstrap.css" rel="stylesheet" />
    <meta name="viewport" content="width=device-width" />
    <title>AddProduct</title>
</head>
<body>
    <div>
        @RenderPage("~/Views/Manager/Products.cshtml")
        <h2><span style="color:#375a7f">Add Product Form:</span></h2>
        <form id="regForm">

            <table class="table table-striped table-hover ">
                <colgroup>
                    <col style="width:190px">
                </colgroup>
                <tr>
                    <td>
                        Name:
                    </td>
                    <td>
                        @Html.TextBoxFor(m => m.Name, new { id="name",name="name"}) @Html.ValidationMessageFor(x=>x.Name)
                </tr>
                <tr>
                    <td>
                        Price:
                    </td>
                    <td>
                      @Html.TextBoxFor(m => m.Price, new { id="price",name="price",Value=""}) @Html.ValidationMessageFor(x=>x.Price)

                    </td>
                    
                </tr>
                <tr>
                    <td>
                        Amount:
                    </td>
                    
                    <td>
                        @Html.TextBoxFor(m => m.Amount, new { id = "amount", name = "amount", Value = ""}) @Html.ValidationMessageFor(x=>x.Amount)
                    </td>
                </tr>
                <tr>
                    <td>
                        <input type="button" value="Return" class="btn btn-primary btn-xs" onclick="@("window.location.href='" + @Url.Action("ManagerHome", "Manager") + "'");" />
                    </td>
                    <td>
                        <input id="Submit" type="button" class="btn btn-primary btn-xs"  value="Submit" onclick="PostData()" />
                    </td>
                    
                </tr>

            </table>
        </form>
        <br />
        <div id="AddStatus"></div>
        <br />
    </div>
</body>
</html>
<script language="javascript">
    function PostData()
    {
        $("#AddStatus").text("Adding Product....");
        var tabPom = document.getElementById("Submit");
        $(tabPom).prop('disabled', true);
        var formData = $("#regForm").serialize();//step 1 and 2
        $.post("AddProduct", formData, BindData);//step 3
        $("#AddStatus").text("");
        $("#name").val("");
        $("#price").val("");
        $("#amount").val("");
        $(tabPom).prop('disabled', false);
    }
</script>
